

resource "azurerm_container_group" "container_group_tooling" {
  name                = "cg-tooling"
  location            = var.location
  resource_group_name = local.resgrp
  ip_address_type     = "Private"
  subnet_ids          = [azurerm_subnet.subnetpentestcontainers.id]
  os_type             = "Linux"

    container {
      name   = "squid-proxy"
      image  = "daemonchild/squid-proxy:latest"
      cpu    = "0.5"
      memory = "1.0"

      ports {
        port     = 3128
        protocol = "TCP"
      }

    }

  depends_on = [
    azurerm_resource_group.resgrp,
    azurerm_subnet.subnetpentestcontainers
  ]

  tags = local.tags

  

}